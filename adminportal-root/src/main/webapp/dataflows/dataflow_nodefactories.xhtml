<?xml version="1.0" encoding="UTF-8"?>

<!--                                                                                                          -->
<!-- Copyright (c) 2013-2015, Arjuna Technologies Limited, Newcastle-upon-Tyne, England. All rights reserved. -->
<!--                                                                                                          -->

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:rich="http://richfaces.org/rich" xmlns:a4j="http://richfaces.org/a4j">
    <ui:composition template="../template.xhtml">
        <ui:define name="title">Data Flow</ui:define>

        <ui:define name="head">
            <link rel="stylesheet" type="text/css" href="dataflow_style.css"/>
        </ui:define>

        <ui:define name="body">
            <ui:include src="/fragments/header.xhtml">
                <ui:param name="titletext" value="Data Flow"/>
            </ui:include>
            <ui:include src="/fragments/navigation_reload.xhtml">
                <ui:param name="doreloadobject" value="#{dataflow}"/>
                <ui:param name="doreloadaction" value="doReload"/>
            </ui:include>
            <h:form styleClass="tab-bar">
                <h:commandLink styleClass="tab" action="#{dataflow.doToAttributesTab}" value="Data Flow Attributes"/>
                <h:commandLink styleClass="tab" action="#{dataflow.doToNodesTab}" value="Data Flow Nodes"/>
                <h:commandLink styleClass="tab-current" action="#{dataflow.doToNodeFactoriesTab}" value="Data Flow Node Factories"/>
            </h:form>
            <h:form styleClass="dataflow">
                <h:panelGroup styleClass="dataflow" layout="block">
                    <h:panelGroup styleClass="dataflow-title" layout="block">
                        <h:outputText styleClass="dataflow-title" value="Data Flow Node Factories"/>
                    </h:panelGroup>
                    <h:panelGroup styleClass="dataflow-error" layout="block" rendered="#{not empty dataflow.errorMessage}">
                        <h:outputText styleClass="dataflow-error-title" value="Error Message: "/>
                        <h:outputText styleClass="dataflow-error-message" value="#{dataflow.errorMessage}"/>
                    </h:panelGroup>
                    <h:panelGroup styleClass="dataflow-title" layout="block">
                        <h:outputText styleClass="dataflow-title" value="Installed Data Flow Node Factories"/>
                    </h:panelGroup>
                    <h:panelGroup styleClass="dataflow-factories" layout="block" rendered="#{not empty dataflow.dataFlowNodeFactories}">
                        <h:dataTable styleClass="dataflow-factories" headerClass="dataflow-factories-header" columnClasses="dataflow-factories-column-name,dataflow-factories-column-create,dataflow-factories-column-create,dataflow-factories-column-create,dataflow-factories-column-create,dataflow-factories-column-create,dataflow-factories-column-actions" value="#{dataflow.dataFlowNodeFactories}" var="_dataFlowNodeFactory">
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Name"/>
                                </f:facet>
                                <h:outputText value="#{_dataFlowNodeFactory.name}"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Create Data Source"/>
                                </f:facet>
                                <h:selectBooleanCheckbox value="#{_dataFlowNodeFactory.dataSourceFactory}" disabled="true"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Create Data Sink"/>
                                </f:facet>
                                <h:selectBooleanCheckbox value="#{_dataFlowNodeFactory.dataSinkFactory}" disabled="true"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Create Data Processor"/>
                                </f:facet>
                                <h:selectBooleanCheckbox value="#{_dataFlowNodeFactory.dataProcessorFactory}" disabled="true"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Create Data Service"/>
                                </f:facet>
                                <h:selectBooleanCheckbox value="#{_dataFlowNodeFactory.dataServiceFactory}" disabled="true"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Create Data Store"/>
                                </f:facet>
                                <h:selectBooleanCheckbox value="#{_dataFlowNodeFactory.dataStoreFactory}" disabled="true"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText styleClass="dataflow-factories-header" value="Actions"/>
                                </f:facet>
                                <h:commandLink styleClass="dataflow-factory-button" action="#{dataflow.doExamineDataFlowNodeFactory(_dataFlowNodeFactory.name)}" value="Examine"/>
                                <h:commandLink styleClass="dataflow-factory-button" action="#" value="Remove"/>
                            </h:column>
                        </h:dataTable>
                    </h:panelGroup>
                    <h:panelGroup styleClass="dataflow-title" layout="block">
                        <h:outputText styleClass="dataflow-title" value="Available Data Flow Node Factories"/>
                    </h:panelGroup>
                    <h:panelGroup styleClass="dataflow-factories" layout="block" rendered="#{not empty dataflow.dataFlowNodeFactories}">
                        <h:dataTable styleClass="dataflow-factories" headerClass="dataflow-factories-header" columnClasses="dataflow-factories-column-name,dataflow-factories-column-create,dataflow-factories-column-create,dataflow-factories-column-create,dataflow-factories-column-create,dataflow-factories-column-create,dataflow-factories-column-actions" value="#{dataflow.dataFlowNodeFactories}" var="_dataFlowNodeFactory">
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Name"/>
                                </f:facet>
                                <h:outputText value="#{_dataFlowNodeFactory.name}"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Create Data Source"/>
                                </f:facet>
                                <h:selectBooleanCheckbox value="#{_dataFlowNodeFactory.dataSourceFactory}" disabled="true"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Create Data Sink"/>
                                </f:facet>
                                <h:selectBooleanCheckbox value="#{_dataFlowNodeFactory.dataSinkFactory}" disabled="true"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Create Data Processor"/>
                                </f:facet>
                                <h:selectBooleanCheckbox value="#{_dataFlowNodeFactory.dataProcessorFactory}" disabled="true"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Create Data Service"/>
                                </f:facet>
                                <h:selectBooleanCheckbox value="#{_dataFlowNodeFactory.dataServiceFactory}" disabled="true"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Create Data Store"/>
                                </f:facet>
                                <h:selectBooleanCheckbox value="#{_dataFlowNodeFactory.dataStoreFactory}" disabled="true"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText styleClass="dataflow-factories-header" value="Actions"/>
                                </f:facet>
                                <h:commandLink styleClass="dataflow-factory-button" action="#{dataflow.doExamineDataFlowNodeFactory(_dataFlowNodeFactory.name)}" value="Examine"/>
                                <h:commandLink styleClass="dataflow-factory-button" action="#" value="Install"/>
                            </h:column>
                        </h:dataTable>
                    </h:panelGroup>
                </h:panelGroup>
            </h:form>
        </ui:define>
    </ui:composition>
</html>
