<?xml version="1.0" encoding="UTF-8"?>

<!--                                                                                                          -->
<!-- Copyright (c) 2013-2015, Arjuna Technologies Limited, Newcastle-upon-Tyne, England. All rights reserved. -->
<!--                                                                                                          -->

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:rich="http://richfaces.org/rich" xmlns:a4j="http://richfaces.org/a4j">
    <ui:composition template="../template.xhtml">
        <ui:define name="title">DataFlow Node Create</ui:define>

        <ui:define name="head">
            <link rel="stylesheet" type="text/css" href="dataflownode_create_style.css"/>
        </ui:define>

        <ui:define name="body">
            <ui:include src="/fragments/header.xhtml">
                <ui:param name="titletext" value="DataFlow Node Create"/>
            </ui:include>
            <ui:include src="/fragments/navigation.xhtml"/>
            <h:form styleClass="dataflownodecreate">
                <h:panelGroup styleClass="dataflownodecreate" layout="block">
                    <h:panelGroup styleClass="dataflownodecreate-title" layout="block">
                        <h:outputText styleClass="dataflownodecreate-title" value="DataFlow Node Create"/>
                    </h:panelGroup>
                    <h:panelGroup styleClass="dataflownodecreate-error" layout="block" rendered="#{not empty dataflownodecreate.errorMessage}">
                        <h:outputText styleClass="dataflownodecreate-error-title" value="Error Message: "/>
                        <h:outputText styleClass="dataflownodecreate-error-message" value="#{dataflownodecreate.errorMessage}"/>
                    </h:panelGroup>
                    <h:panelGroup layout="block">
                        <h:panelGroup styleClass="dataflownodecreate-subtitle" layout="block">
                            <h:outputText styleClass="dataflownodecreate-subtitle" value="Factories"/>
                        </h:panelGroup>
                        <h:panelGrid styleClass="dataflownodecreate-selections" columnClasses="dataflownodecreate-selections-column-one,dataflownodecreate-selections-column-two" columns="2">
                            <h:outputText styleClass="dataflownodecreate-selection-name" value="Factory Name"/>
                            <h:selectOneMenu styleClass="dataflownodecreate-selection-value" value="#{dataflownodecreate.factoryName}" disabled="#{(dataflownodecreate.metaProperties != null) and (dataflownodecreate.factoryNames.size() != 1)}">
                                <f:selectItems value="#{dataflownodecreate.factoryNames}" var="factoryName" itemLabel="#{factoryName}" itemValue="#{factoryName}"/>
                            </h:selectOneMenu>
                        </h:panelGrid>
                        <h:panelGroup styleClass="dataflownodecreate-actions" layout="block">
                            <h:commandLink styleClass="dataflownodecreate-button" action="#{dataflownodecreate.doFactoryNameSubmit}" value="Submit" rendered="#{(dataflownodecreate.metaProperties == null) and (dataflownodecreate.factoryNames.size() != 0)}"/>
                            <h:commandLink styleClass="dataflownodecreate-button" action="#{dataflownodecreate.doFactoryNameReset}" value="Reset" rendered="#{(dataflownodecreate.metaProperties != null) and (dataflownodecreate.factoryNames.size() != 1)}"/>
                            <h:commandLink styleClass="dataflownodecreate-button" action="#{dataflownodecreate.doCancel}" value="Cancel" rendered="#{dataflownodecreate.metaProperties == null}"/>
                        </h:panelGroup>
                    </h:panelGroup>
                    <h:panelGroup layout="block" rendered="#{not empty dataflownodecreate.factoryProperties}">
                        <h:panelGroup styleClass="dataflownodecreate-subtitle" layout="block">
                            <h:outputText styleClass="dataflownodecreate-subtitle" value="Factory Properties"/>
                        </h:panelGroup>
                        <h:dataTable styleClass="dataflownodecreate-properties" headerClass="dataflownodecreate-properties-header" columnClasses="dataflownodecreate-properties-column-one,dataflownodecreate-properties-column-two" value="#{dataflownodecreate.factoryProperties}" var="_factoryProperties">
                            <h:column>
                                <h:outputText styleClass="dataflownodecreate-property-name" value="#{_factoryProperties.name}"/>
                            </h:column>
                            <h:column>
                                <h:inputTextarea styleClass="dataflownodecreate-property-value" value="#{_factoryProperties.value}" disabled="true"/>
                            </h:column>
                        </h:dataTable>
                    </h:panelGroup>
                    <h:panelGroup layout="block" rendered="#{not empty dataflownodecreate.metaProperties}">
                        <h:panelGroup styleClass="dataflownodecreate-subtitle" layout="block">
                            <h:outputText styleClass="dataflownodecreate-subtitle" value="Meta Properties"/>
                        </h:panelGroup>
                        <h:dataTable styleClass="dataflownodecreate-properties" headerClass="dataflownodecreate-properties-header" columnClasses="dataflownodecreate-properties-column-one,dataflownodecreate-properties-column-two" value="#{dataflownodecreate.metaProperties}" var="_metaProperties">
                            <h:column>
                                <h:outputText styleClass="dataflownodecreate-property-name" value="#{_metaProperties.name}"/>
                            </h:column>
                            <h:column>
                                <h:inputText styleClass="dataflownodecreate-property-value" value="#{_metaProperties.value}" disabled="#{dataflownodecreate.properties != null}"/>
                            </h:column>
                        </h:dataTable>
                        <h:panelGroup styleClass="dataflownodecreate-actions" layout="block">
                            <h:commandLink styleClass="dataflownodecreate-button" action="#{dataflownodecreate.doMetaPropertiesSubmit}" value="Submit" rendered="#{dataflownodecreate.properties == null}"/>
                            <h:commandLink styleClass="dataflownodecreate-button" action="#{dataflownodecreate.doMetaPropertiesReset}" value="Reset" rendered="#{dataflownodecreate.properties != null}"/>
                            <h:commandLink styleClass="dataflownodecreate-button" action="#{dataflownodecreate.doCancel}" value="Cancel" rendered="#{dataflownodecreate.properties == null}"/>
                        </h:panelGroup>
                    </h:panelGroup>
                    <h:panelGroup layout="block" rendered="#{dataflownodecreate.properties != null}">
                        <h:panelGroup styleClass="dataflownodecreate-subtitle" layout="block">
                            <h:outputText styleClass="dataflownodecreate-subtitle" value="Attributes"/>
                        </h:panelGroup>
                        <h:panelGrid styleClass="dataflownodecreate-properties" columnClasses="dataflownodecreate-properties-column-one,dataflownodecreate-properties-column-two" columns="2">
                            <h:outputText styleClass="dataflownodecreate-property-name" value="Name"/>
                            <h:inputText styleClass="dataflownodecreate-property-value" value="#{dataflownodecreate.name}"/>
                            <h:outputText styleClass="dataflownodecreate-property-name" value="Type"/>
                            <h:inputText styleClass="dataflownodecreate-property-value" value="#{dataflownodecreate.type}" disabled="true"/>
                        </h:panelGrid>
                        <h:panelGroup styleClass="dataflownodecreate-subtitle" layout="block" rendered="#{not empty dataflownodecreate.properties}">
                            <h:outputText styleClass="dataflownodecreate-subtitle" value="Properties"/>
                        </h:panelGroup>
                        <h:dataTable styleClass="dataflownodecreate-properties" headerClass="dataflownodecreate-properties-header" columnClasses="dataflownodecreate-properties-column-one,dataflownodecreate-properties-column-two" value="#{dataflownodecreate.properties}" var="_properties">
                            <h:column>
                                <h:outputText styleClass="dataflownodecreate-property-name" value="#{_properties.name}"/>
                            </h:column>
                            <h:column>
                                <h:inputText styleClass="dataflownodecreate-property-value" value="#{_properties.value}"/>
                            </h:column>
                        </h:dataTable>
                        <h:panelGroup styleClass="dataflownodecreate-actions" layout="block">
                            <h:commandLink styleClass="dataflownodecreate-button" action="#{dataflownodecreate.doCreate}" value="Create"/>
                            <h:commandLink styleClass="dataflownodecreate-button" action="#{dataflownodecreate.doCancel}" value="Cancel"/>
                        </h:panelGroup>
                    </h:panelGroup>
                </h:panelGroup>
            </h:form>
        </ui:define>
    </ui:composition>
</html>
