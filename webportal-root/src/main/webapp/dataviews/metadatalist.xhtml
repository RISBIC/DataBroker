<?xml version="1.0" encoding="UTF-8"?>

<!--                                                                                                          -->
<!-- Copyright (c) 2013-2014, Arjuna Technologies Limited, Newcastle-upon-Tyne, England. All rights reserved. -->
<!--                                                                                                          -->

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:rich="http://richfaces.org/rich" xmlns:a4j="http://richfaces.org/a4j">
    <ui:composition template="../template.xhtml">
        <ui:define name="title">Data View Report</ui:define>

        <ui:define name="head">
            <!--<link rel="stylesheet" type="text/css" href="metadatalist_style.css"/>-->
        </ui:define>

        <ui:define name="body">
            <f:event type="preRenderView" listener="#{dataviews.doLoad}"/>

            <h:form styleClass="metadatalist">
                <h:panelGroup styleClass="metadatalist" layout="block">
                    <h2>Data View Report</h2>
                    <h:panelGroup styleClass="metadatalist-error" layout="block" rendered="#{not empty metadatalist.errorMessage}">
                        <h:outputText styleClass="metadatalist-error-title" value="Error Message: "/>
                        <h:outputText styleClass="metadatalist-error-message" value="#{metadatalist.errorMessage}"/>
                    </h:panelGroup>
                    <h:panelGroup layout="block" rendered="#{empty metadatalist.errorMessage}">
                        <ui:repeat value="#{metadatalist.items}" var="itemLevel1">
                            <h:panelGroup styleClass="metadatalist-level1" layout="block">
                                <h:outputText styleClass="metadatalist-level1-name" value="#{itemLevel1.name}" rendered="#{not empty itemLevel1.name}"/>
                                <h:outputText styleClass="metadatalist-level1-value" value="#{itemLevel1.value}"  rendered="#{not empty itemLevel1.value}"/>
                                <ui:repeat value="#{itemLevel1.items}" var="itemLevel2">
                                    <h:panelGroup styleClass="metadatalist-level2" layout="block">
                                        <h:outputText styleClass="metadatalist-level2-name" value="#{itemLevel2.name}" rendered="#{not empty itemLevel2.name}"/>
                                        <h:outputText styleClass="metadatalist-level2-value" value="#{itemLevel2.value}"  rendered="#{not empty itemLevel2.value}"/>
                                        <ui:repeat value="#{itemLevel2.items}" var="itemLevel3">
                                            <h:panelGroup styleClass="metadatalist-level3" layout="block">
                                                <h:outputText styleClass="metadatalist-level3-name" value="#{itemLevel3.name}" rendered="#{not empty itemLevel3.name}"/>
                                                <h:outputText styleClass="metadatalist-level3-value" value="#{itemLevel3.value}"  rendered="#{not empty itemLevel3.value}"/>
                                                <ui:repeat value="#{itemLevel3.items}" var="itemLevel4">
                                                    <h:panelGroup styleClass="metadatalist-level4" layout="block">
                                                        <h:outputText styleClass="metadatalist-level4-name" value="#{itemLevel4.name}" rendered="#{not empty itemLevel4.name}"/>
                                                        <h:outputText styleClass="metadatalist-level4-value" value="#{itemLevel4.value}"  rendered="#{not empty itemLevel4.value}"/>
                                                        <ui:repeat value="#{itemLevel4.items}" var="itemLevel5">
                                                            <h:panelGroup styleClass="metadatalist-level5" layout="block">
                                                                <h:outputText styleClass="metadatalist-level5-name" value="#{itemLevel5.name}" rendered="#{not empty itemLevel5.name}"/>
                                                                <h:outputText styleClass="metadatalist-level5-value" value="#{itemLevel5.value}"  rendered="#{not empty itemLevel5.value}"/>
                                                                <ui:repeat value="#{itemLevel5.items}" var="itemLevel6">
                                                                    <h:panelGroup styleClass="metadatalist-level6" layout="block">
                                                                        <h:outputText styleClass="metadatalist-level6-name" value="#{itemLevel6.name}" rendered="#{not empty itemLevel6.name}"/>
                                                                        <h:outputText styleClass="metadatalist-level6-value" value="#{itemLevel6.value}"  rendered="#{not empty itemLevel6.value}"/>
                                                                    </h:panelGroup>
                                                                 </ui:repeat>
                                                            </h:panelGroup>
                                                        </ui:repeat>
                                                    </h:panelGroup>
                                                </ui:repeat>
                                            </h:panelGroup>
                                        </ui:repeat>
                                    </h:panelGroup>
                                </ui:repeat>
                            </h:panelGroup>
                        </ui:repeat>
                    </h:panelGroup>
                    <h:panelGroup styleClass="metadatalist-buttons" layout="block">
                        <h:commandLink styleClass="metadatalist-button" action="#{dataview.doReload}" value="Done"/>
                    </h:panelGroup>
                </h:panelGroup>
            </h:form>
        </ui:define>
    </ui:composition>
</html>
